import{p as V,m as E,g as L,bb as w,C,Y as S,Z as _,aC as $,ay as c,az as z,D,ax as H,l as M,o as k,ak as F,bc as I}from"./index-4779d971.js";function Y(s){return Math.floor(Math.abs(s))*Math.sign(s)}const q=V({scale:{type:[Number,String],default:.5},...E()},"VParallax"),B=L()({name:"VParallax",props:q(),setup(s,g){let{slots:h}=g;const{intersectionRef:n,isIntersecting:l}=w(),{resizeRef:d,contentRect:i}=C(),{height:x}=S(),r=_();$(()=>{var t;n.value=d.value=(t=r.value)==null?void 0:t.$el});let e;c(l,t=>{t?(e=I(n.value),e=e===document.scrollingElement?document:e,e.addEventListener("scroll",a,{passive:!0}),a()):e.removeEventListener("scroll",a)}),z(()=>{e==null||e.removeEventListener("scroll",a)}),c(x,a),c(()=>{var t;return(t=i.value)==null?void 0:t.height},a);const u=D(()=>1-H(+s.scale));let m=-1;function a(){l.value&&(cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var f;const t=((f=r.value)==null?void 0:f.$el).querySelector(".v-img__img");if(!t)return;const p=e instanceof Document?document.documentElement.clientHeight:e.clientHeight,v=e instanceof Document?window.scrollY:e.scrollTop,y=n.value.getBoundingClientRect().top+v,o=i.value.height,P=y+(o-p)/2,R=Y((v-P)*u.value),b=Math.max(1,(u.value*(p-o)+o)/o);t.style.setProperty("transform",`translateY(${R}px) scale(${b})`)}))}return M(()=>k(F,{class:["v-parallax",{"v-parallax--active":l.value},s.class],style:s.style,ref:r,cover:!0,onLoadstart:a,onLoad:a},h)),{}}}),N=""+new URL("eforea-Relaxation-Room-143b1139.jpg",import.meta.url).href;export{B as V,N as _};
